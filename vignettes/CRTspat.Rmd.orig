---
title: "CRTspat package"
author: "Tom Smith, Lea Multerer"
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
  toc: true
vignette: >
  %\VignetteIndexEntry{CRTspat package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!--To build the vignette
# since the vignette takes a long time to run, it is not run with every build
# as suggested here https://ropensci.org/blog/2019/12/08/precompute-vignettes/
# to Knit this vignette without this time consuming step being part of the default build
knitr::knit("vignettes/CRTspat.Rmd.orig", output = "vignettes/CRTspat.Rmd")
rmarkdown.html_vignette.check_title = FALSE
devtools::install(build_vignettes = TRUE)
-->
## Summary

The `CRTspat` package is intended to support the design and analysis of cluster-randomized trials (CRTs) where there is geographical contamination between the arms. It can also be used in simulation of such CRTs to support development of improved methodology. An important set of applications is in field trials of vector-control interventions against malaria.

The package can facilitate design of efficient trials by providing algorithms for:

+ algorithmic assignment of clusters (and buffer zones), and analysis of the implications of different choices.
+ analysis of the effects of contamination between arms
+ simulation of trials based on the geography of previously studied field sites and trials, and observed spatial patterns of outcomes, or on geographical information from novel sites.

The package builds on the work of [Multerer *et al.* (2021a)](https://trialsjournal.biomedcentral.com/articles/10.1186/s13063-021-05543-8) and [Multerer *et al.* (2021b)](https://malariajournal.biomedcentral.com/articles/10.1186/s12936-021-03924-7).

##  Anticipated use cases

Examples are provided of the workflow for different use cases, as follows:

[1. Algorithmic definition of clusters](Usecase1.html)

[2. Simulation of trials with geographical contamination](Usecase2.html)

[3. Estimation of intracluster correlations (ICC) by cluster size](Usecase3.html)

[4. Estimation of optimal cluster size for a trial with pre-determined buffer width](Usecase4.html)

[5. Analysis of trials (including methods for analysing contamination)](Usecase5.html)

+ Implications of excluding buffer zones from the measurement of outcomes

+ Power and sample size calculations allowing for contamination

[7: Preparation of datasets for `CRTspat`](Usecase7.html)

[8: Anonymising input locations (if required for sharing reference datasets)](../reference/anonymize_site.html)

## Package functions

The package functions are listed in the [manual](../reference/index.html)

