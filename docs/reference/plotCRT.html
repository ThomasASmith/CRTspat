<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="plotCRT returns graphical displays of the geography of a CRT
plotCRT creates graphics displaying the geographical showing the results of statistical analysis of a CRT"><title>Graphical displays of the geography of a CRT — plotCRT • CRTspat</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Graphical displays of the geography of a CRT — plotCRT"><meta property="og:description" content="plotCRT returns graphical displays of the geography of a CRT
plotCRT creates graphics displaying the geographical showing the results of statistical analysis of a CRT"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CRTspat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/CRTspat.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Usecase1.html">Use Case 1: Algorithmic specification of clusters and of buffer zones</a>
    <a class="dropdown-item" href="../articles/Usecase2.html">Use Case 2: Simulation of trials with geographical contamination</a>
    <a class="dropdown-item" href="../articles/Usecase3.html">Use Case 3: Estimation of intracluster correlations (ICC) by cluster size</a>
    <a class="dropdown-item" href="../articles/Usecase4.html">Use Case 4: Estimation of optimal cluster size for a trial with pre-determined buffer width</a>
    <a class="dropdown-item" href="../articles/Usecase5.html">Use Case 5: Analysis of trials (including methods for analysing contamination)</a>
    <a class="dropdown-item" href="../articles/Usecase7.html">Use Case 7: Preparation of datasets for `CRTspat`</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Graphical displays of the geography of a CRT</h1>
      
      <div class="d-none name"><code>plotCRT.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plotCRT</code> returns graphical displays of the geography of a CRT
<code>plotCRT</code> creates graphics displaying the geographical showing the results of statistical analysis of a CRT</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotCRT</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  map <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fill <span class="op">=</span> <span class="st">"arms"</span>,</span>
<span>  showLocations <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  showClusterBoundaries <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showClusterLabels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  showContamination <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cpalette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maskbuffer <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  labelsize <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  legend.position <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>object of class <code>'CRTanalysis'</code> produced by <code><a href="CRTanalysis.html">CRTanalysis()</a></code></p></dd>


<dt>map</dt>
<dd><p>logical: indicator of whether a map is required</p></dd>


<dt>fill</dt>
<dd><p>fill layer of map</p><table class="table table"><tr><td><code>'cluster'</code></td><td>cluster assignment</td></tr><tr><td><code>'arms'</code></td><td>arm assignment</td></tr><tr><td><code>'distance'</code></td><td>distance to the nearest discordant location</td></tr><tr><td><code>'prediction'</code></td><td>model prediction of the outcome</td></tr><tr><td><code>'none'</code></td><td>No fill</td></tr></table></dd>


<dt>showLocations</dt>
<dd><p>logical: determining whether locations are shown</p></dd>


<dt>showClusterBoundaries</dt>
<dd><p>logical: determining whether cluster boundaries are shown</p></dd>


<dt>showClusterLabels</dt>
<dd><p>logical: determining whether the cluster numbers are shown</p></dd>


<dt>showContamination</dt>
<dd><p>logical: determining whether the estimated contamination range should be mapped</p></dd>


<dt>cpalette</dt>
<dd><p>colour palette (to use different colours for clusters must be at
least as long as the number of clusters, defaults to <code>rainbow())</code></p></dd>


<dt>maskbuffer</dt>
<dd><p>radius of buffer drawn around inhabited areas (km)</p></dd>


<dt>labelsize</dt>
<dd><p>size of cluster number labels</p></dd>


<dt>legend.position</dt>
<dd><p>(using <code>ggplot2::themes</code> syntax)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>graphics object produced by the <code>ggplot2</code> package</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>map = TRUE</code> a plot corresponding to the value of <code>fill</code> is generated.</p><ul><li><p><code>fill = 'clusters'</code> or leads to thematic map showing the locations of the clusters</p></li>
<li><p><code>fill = 'arms'</code> leads to a thematic map showing the geography of the randomization</p></li>
<li><p><code>fill = 'distance'</code> leads to a raster plot of the distance to the nearest discordant location.</p></li>
<li><p><code>fill = 'prediction'</code> leads to a raster plot of predictions from an <code>'INLA'</code> model.</p></li>
</ul><p>If <code>showContamination = TRUE</code> the map is overlaid with a grey transparent layer showing showing which
areas are within the contamination zone estimated by an <code>'INLA'</code> model.<br>
If <code>map = FALSE</code> and the input is a trial data frame or a <code>CRTsp</code> object, containing a randomisation
to arms, a stacked bar chart of the the outcome grouped by distance from the boundary is produced.<br>
If <code>map = FALSE</code> and the input is a <code>CRTanalysis</code> object plot of the
estimated contamination function is generated.
The fitted contamination function is plotted as a continuous blue line against the distance
from the nearest discordant location.Using the same axes, data summaries are plotted for
ten categories of distance from the boundary. Both the
average of the outcome and confidence intervals are plotted. <br>
For analyses with logit link function the outcome is plotted as a proportion. <br>
For analyses with log link function the outcome is plotted on a scale of the Williams' mean
(mean of exp(log(x + 1))) - 1) <br></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Plot of data by distance</span></span></span>
<span class="r-in"><span><span class="fu">plotCRT</span><span class="op">(</span><span class="fu"><a href="readdata.html">readdata</a></span><span class="op">(</span><span class="st">'exampleCRT.csv'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotCRT-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#Map of locations only</span></span></span>
<span class="r-in"><span><span class="fu">plotCRT</span><span class="op">(</span><span class="fu"><a href="readdata.html">readdata</a></span><span class="op">(</span><span class="st">'exampleCRT.csv'</span><span class="op">)</span>, map <span class="op">=</span> <span class="cn">TRUE</span>, fill <span class="op">=</span> <span class="st">'none'</span>, showLocations <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>           showClusterBoundaries<span class="op">=</span><span class="cn">FALSE</span>, maskbuffer<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotCRT-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#show cluster boundaries and number clusters</span></span></span>
<span class="r-in"><span><span class="fu">plotCRT</span><span class="op">(</span><span class="fu"><a href="readdata.html">readdata</a></span><span class="op">(</span><span class="st">'exampleCRT.csv'</span><span class="op">)</span>, map <span class="op">=</span> <span class="cn">TRUE</span>, fill <span class="op">=</span><span class="st">'none'</span>, showClusterBoundaries<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>           showClusterLabels<span class="op">=</span><span class="cn">TRUE</span>, maskbuffer<span class="op">=</span><span class="fl">0.2</span>, labelsize <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotCRT-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#show clusters in colour</span></span></span>
<span class="r-in"><span><span class="fu">plotCRT</span><span class="op">(</span><span class="fu"><a href="readdata.html">readdata</a></span><span class="op">(</span><span class="st">'exampleCRT.csv'</span><span class="op">)</span>, map <span class="op">=</span> <span class="cn">TRUE</span>, fill <span class="op">=</span> <span class="st">'clusters'</span>, showClusterLabels <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>          labelsize<span class="op">=</span><span class="fl">2</span>, maskbuffer<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotCRT-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#show arms</span></span></span>
<span class="r-in"><span><span class="fu">plotCRT</span><span class="op">(</span><span class="fu"><a href="readdata.html">readdata</a></span><span class="op">(</span><span class="st">'exampleCRT.csv'</span><span class="op">)</span>, map <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>        fill <span class="op">=</span> <span class="st">'arms'</span>, maskbuffer<span class="op">=</span><span class="fl">0.2</span>, legend.position<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotCRT-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#contamination plot</span></span></span>
<span class="r-in"><span><span class="va">analysis</span> <span class="op">&lt;-</span> <span class="fu"><a href="CRTanalysis.html">CRTanalysis</a></span><span class="op">(</span><span class="fu"><a href="readdata.html">readdata</a></span><span class="op">(</span><span class="st">'exampleCRT.csv'</span><span class="op">)</span><span class="op">)</span>; <span class="fu">plotCRT</span><span class="op">(</span><span class="va">analysis</span>, map <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plotCRT-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

