[{"path":"/articles/CRTspat.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"CRTspat package","text":"CRTspat package intended support design analysis cluster-randomized trials (CRTs) geographical contamination arms. can also used simulation CRTs support development improved methodology. important set applications field trials vector-control interventions malaria. package can facilitate design efficient trials providing algorithms : + algorithmic assignment clusters (buffer zones), analysis implications different choices. + analysis effects contamination arms + simulation trials based geography previously studied field sites trials, observed spatial patterns outcomes, geographical information novel sites. package builds work Multerer et al. (2021a) Multerer et al. (2021b).","code":""},{"path":"/articles/CRTspat.html","id":"anticipated-use-cases","dir":"Articles","previous_headings":"","what":"Anticipated use cases","title":"CRTspat package","text":"Examples provided workflow different use cases, follows: 1. Algorithmic definition clusters buffer zones 2. Simulation trials geographical contamination 3. Estimation intracluster correlations (ICC) cluster size 4. Estimation optimal cluster size trial pre-determined buffer width 5. Analysis trials (including methods analysing contamination) Power sample size calculations allowing contamination 7: Preparation datasets CRTspat 8: Anonymising input locations (required sharing reference datasets)","code":""},{"path":"/articles/CRTspat.html","id":"package-functions","dir":"Articles","previous_headings":"","what":"Package functions","title":"CRTspat package","text":"package functions listed manual","code":""},{"path":"/articles/Usecase2.html","id":"example-with-baseline-data-provided-as-proportions","dir":"Articles","previous_headings":"","what":"Example with baseline data provided as proportions","title":"Use Case 2: Simulation of trials with geographical contamination","text":"Fig 2.1 Map simulated outcome cluster level Fig 2.2 Variation outcome distance boundary","code":"library(CRTspat) set.seed(1234) example_locations <- readdata('example_site.csv') example_locations$base_denom <- 1 library(dplyr) example_randomized <- CRTsp(example_locations) %>%   aggregateCRT(auxiliaries = c(\"RDT_test_result\", \"base_denom\")) %>%   specify_clusters(h = 50, algorithm = 'NN') %>%   randomizeCRT(matchedPair = FALSE) summary(example_randomized) ## ===============================CLUSTER RANDOMISED TRIAL =========================== ##  ## Summary of coordinates ## ---------------------- ##         Min.   : 1st Qu.: Median : Mean   : 3rd Qu.: Max.   : ##       x -3.20    -1.40    -0.30    -0.07     1.26     5.16    ##       y -5.08    -2.84     0.19     0.05     2.49     6.16    ## Total area (within  0.2 km of a location) :  27.6 sq.km ##  ## Locations and Clusters ## ----------------------                                          -             ## Coordinate system                      (x, y)             ## Locations:                                                      1181             ## Available clusters (across both arms)                           24             ##   Per cluster mean number of points                             49.2             ##   Per cluster s.d. number of points                             3.9             ## S.D. of distance to nearest discordant location (km):           1.05           ## Cluster randomization:                      Independently randomized             ## No power calculations to report          -             ##  ## Other variables in dataset ## --------------------------          RDT_test_result  base_denom plotCRT(example_randomized, map = TRUE) example2a <- simulateCRT(example_randomized,        effect = 0.8,        outcome0 = 0.5,        generateBaseline = FALSE,        baselineNumerator = \"RDT_test_result\",        baselineDenominator = \"base_denom\",        ICC_inp = NULL, theta_inp = 0.8) ##  ## =====================    SIMULATION OF CLUSTER RANDOMISED TRIAL    ================= summary(example2a) ## ===============================CLUSTER RANDOMISED TRIAL =========================== ##  ## Summary of coordinates ## ---------------------- ##         Min.   : 1st Qu.: Median : Mean   : 3rd Qu.: Max.   : ##       x -3.20    -1.40    -0.30    -0.07     1.26     5.16    ##       y -5.08    -2.84     0.19     0.05     2.49     6.16    ## Total area (within  0.2 km of a location) :  27.6 sq.km ##  ## Locations and Clusters ## ----------------------                                          -             ## Coordinate system                      (x, y)             ## Locations:                                                      1181             ## Available clusters (across both arms)                           24             ##   Per cluster mean number of points                             49.2             ##   Per cluster s.d. number of points                             3.9             ## S.D. of distance to nearest discordant location (km):           1.05           ## Cluster randomization:                      Independently randomized             ## No power calculations to report          -             ##  ## Other variables in dataset ## --------------------------          RDT_test_result  base_denom  propensity  denom  num library(Matrix) examplemesh100 <- readdata(\"examplemesh100.txt\") example2aanalysis <- CRTanalysis(trial=example2a, method = 'T') summary(example2aanalysis) ## =====================CLUSTER RANDOMISED TRIAL ANALYSIS ================= ## Analysis method:  T  ## Link function:  logit  ## Model formula:  arm + (1 | cluster)  ## No modelling of contamination  ## Estimates:     Control:  0.364  (95% CL:  0.286 0.451 ) ##           Intervention:  0.21  (95% CL:  0.147 0.292 ) ##              Efficacy:   0.423  (95% CL:  0.208 0.727 ) ## Percentage of population in contamination zone:  0 % ## P-value (2-sided):  0.006879 example2aINLA <- CRTanalysis(trial=example2a,                                  method = 'INLA', link='logit', cfunc = 'X',                                  clusterEffects = TRUE,                                  requireMesh = TRUE, inla_mesh = examplemesh100) plotCRT(example2aINLA) plotCRT(example2aINLA, map = TRUE, fill = 'prediction', showClusterBoundaries = TRUE)"},{"path":"/articles/Usecase2.html","id":"example-with-infectiousness-proxy-surface-generated-externally","dir":"Articles","previous_headings":"","what":"Example with infectiousness proxy surface generated externally","title":"Use Case 2: Simulation of trials with geographical contamination","text":"Fig 2.3 Map clusters simulated trial","code":"set.seed(1234) # Simulate a site with 2000 locations new_site <- CRTsp(geoscale = 2, locations=2000, kappa=3, mu=40) # propensity surface generated as an arbitrary linear function of x the co-ordinate new_site$propensity <- 0.5*new_site$trial$x - min(new_site$trial$x)+1 library(dplyr) invisible(capture.output( example2b<- CRTsp(new_site) %>%    specify_clusters(h = 40, algorithm = 'NN') %>%    randomizeCRT(matchedPair = FALSE) %>%    simulateCRT(example_simulated,                           effect = 0.8,                           outcome0 = 0.5,                           generateBaseline = TRUE,                           ICC_inp = 0.05,                           theta_inp = 0.5) )) summary(example2b) ## ===============================CLUSTER RANDOMISED TRIAL =========================== ##  ## Summary of coordinates ## ---------------------- ##         Min.   : 1st Qu.: Median : Mean   : 3rd Qu.: Max.   : ##       x -8.73    -5.16    -1.03     0.00     5.17    11.26    ##       y -9.55    -4.42    -0.58     0.00     4.56    10.45    ## Total area (within  0.2 km of a location) :  181 sq.km ##  ## Locations and Clusters ## ----------------------                                          -             ## Coordinate system                      (x, y)             ## Locations:                                                      2000             ## Available clusters (across both arms)                           50             ##   Per cluster mean number of points                             40             ##   Per cluster s.d. number of points                             0             ## S.D. of distance to nearest discordant location (km):           1.33           ## Cluster randomization:                      Independently randomized             ## No power calculations to report          -             ##  ## Other variables in dataset ## --------------------------          propensity  base_denom  base_num  denom  num results2b <- CRTanalysis(example2b, method = 'GEE') summary(results2b) ## =====================CLUSTER RANDOMISED TRIAL ANALYSIS ================= ## Analysis method:  GEE  ## Link function:  logit  ## Model formula:  arm  ## No modelling of contamination  ## Estimates:     Control:  0.372  (95% CL:  0.319 0.428 ) ##           Intervention:  0.228  (95% CL:  0.192 0.269 ) ##              Efficacy:   0.387  (95% CL:  0.233 0.511 ) ## Percentage of population in contamination zone:  0 % ## Intracluster correlation (ICC):  0.0454  (95% CL:  0.0202 0.0706 ) plotCRT(example2b, map = TRUE, fill = 'clusters', showClusterLabels = TRUE, maskbuffer = 0.5)"},{"path":"/articles/Usecase2.html","id":"example-with-baseline-generated-from-user-provided-values-of-the-overall-initial-prevalence-and-icc","dir":"Articles","previous_headings":"","what":"Example with baseline generated from user-provided values of the overall initial prevalence and ICC","title":"Use Case 2: Simulation of trials with geographical contamination","text":"","code":"set.seed(1234) # use co-ordinates, cluster and arm assignments, and baseline data from `example_simulated` invisible(capture.output( example2c<- CRTsp(geoscale = 2, locations=2000, kappa=3, mu=40) %>%    specify_clusters(h = 40, algorithm = 'NN') %>%    randomizeCRT(matchedPair = FALSE) %>%    simulateCRT(new_site,        effect = 0.8,        outcome0 = 0.5,        generateBaseline = TRUE,        baselineNumerator = 'base_num',        baselineDenominator = 'base_denom',        ICC_inp = 0.08,        theta_inp = 0.2) )) results2c <- CRTanalysis(example2c, method = 'GEE') summary(results2c) ## =====================CLUSTER RANDOMISED TRIAL ANALYSIS ================= ## Analysis method:  GEE  ## Link function:  logit  ## Model formula:  arm  ## No modelling of contamination  ## Estimates:     Control:  0.317  (95% CL:  0.26 0.381 ) ##           Intervention:  0.283  (95% CL:  0.23 0.343 ) ##              Efficacy:   0.107  (95% CL:  -0.184 0.317 ) ## Percentage of population in contamination zone:  0 % ## Intracluster correlation (ICC):  0.0834  (95% CL:  0.0503 0.117 )"},{"path":"/articles/Usecase4.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"Conclusions","title":"Use Case 4: Estimation of optimal cluster size for a trial with pre-determined buffer width","text":"example geography selected trial outcome, efficient trial design, conditional buffer width 0.5 km, achieved assigning 30 clusters arm site size analysed, though one third clusters eliminated inclusion buffer zones, . far adequate achieve adequate power. achieve 80% power 8,000 locations needed, larger trial area, 2,400 core (sampled) parts clusters. Fig 4.9 Size trial area required achieve adequate power","code":"ggplot2::ggplot(data = results, aes(x = k_core, y = totallocations_required)) +     geom_smooth() + xlab(\"Clusters in core (per arm)\") + ylab(\"Total locations required\") +     geom_segment(aes(x = 18, xend = 18, y = 0, yend = 8000), arrow = arrow(length = unit(1,         \"cm\")), lwd = 2, color = \"red\") ## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Thomas Smith. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Multerer L, Smith T, Silkey M (2023). CRTspat: Design analysis Cluster Randomized Trials health interventions spatial contamination. R package version 0.1.0.","code":"@Manual{,   title = {CRTspat: Design and analysis of Cluster Randomized Trials of health interventions with spatial contamination},   author = {Lea Multerer and Tom Smith and Mariah Silkey},   year = {2023},   note = {R package version 0.1.0}, }"},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Thomas Smith Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/reference/aggregateCRT.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate data across records with duplicated locations — aggregateCRT","title":"Aggregate data across records with duplicated locations — aggregateCRT","text":"aggregateCRT aggregates data \"CRTsp\" object trial data frame containing multiple records location, outputs list class \"CRTsp\" containing single values location, coordinates auxiliary variables.","code":""},{"path":"/reference/aggregateCRT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate data across records with duplicated locations — aggregateCRT","text":"","code":"aggregateCRT(trial, auxiliaries = NULL)"},{"path":"/reference/aggregateCRT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate data across records with duplicated locations — aggregateCRT","text":"trial object class \"CRTsp\" containing locations (x,y) variables summed auxiliaries vector names auxiliary variables summed across location","code":""},{"path":"/reference/aggregateCRT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate data across records with duplicated locations — aggregateCRT","text":"list class \"CRTsp\"","code":""},{"path":"/reference/aggregateCRT.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Aggregate data across records with duplicated locations — aggregateCRT","text":"Variables trial dataframe included auxiliaries retained output algorithm \"CRTsp\" object, value corresponding first record location input data frame","code":""},{"path":"/reference/anonymize.site.html","id":null,"dir":"Reference","previous_headings":"","what":"Anonymize locations of a trial site — anonymize.site","title":"Anonymize locations of a trial site — anonymize.site","text":"anonymize.site Transforms coordinates maintain confidentiality","code":""},{"path":"/reference/anonymize.site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Anonymize locations of a trial site — anonymize.site","text":"","code":"anonymize.site(trial, latvar = \"lat\", longvar = \"long\")"},{"path":"/reference/anonymize.site.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Anonymize locations of a trial site — anonymize.site","text":"trial \"CRTsp\" object trial data frame co-ordinates households latvar name column containing latitudes decimal degrees longvar name column containing longitudes decimal degrees","code":""},{"path":"/reference/anonymize.site.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Anonymize locations of a trial site — anonymize.site","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/anonymize.site.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Anonymize locations of a trial site — anonymize.site","text":"coordinates transformed order obscure geographical information, support confidentiality information linked households. input may either lat long x,y coordinates. function first searches lat long co-ordinates converts x,y Cartesian coordinates. rotated random angle random origin. returned object transformed co-ordinates re-centred origin. data unchanged.","code":""},{"path":"/reference/anonymize.site.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Anonymize locations of a trial site — anonymize.site","text":"","code":"#Rotate and reflect test site locations transformedTestlocations <- anonymize.site(trial =  readdata(\"exampleCRT.csv\"))"},{"path":"/reference/CRTanalysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis of cluster randomized trial with contamination — CRTanalysis","title":"Analysis of cluster randomized trial with contamination — CRTanalysis","text":"CRTanalysis carries statistical analysis cluster randomized trial (CRT).","code":""},{"path":"/reference/CRTanalysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis of cluster randomized trial with contamination — CRTanalysis","text":"","code":"CRTanalysis(   trial,   method = \"GEE\",   cfunc = \"L\",   link = \"logit\",   numerator = \"num\",   denominator = \"denom\",   excludeBuffer = FALSE,   alpha = 0.05,   baselineOnly = FALSE,   baselineNumerator = \"base_num\",   baselineDenominator = \"base_denom\",   personalProtection = FALSE,   clusterEffects = TRUE,   spatialEffects = FALSE,   resamples = 10000,   requireMesh = FALSE,   inla_mesh = NULL )"},{"path":"/reference/CRTanalysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis of cluster randomized trial with contamination — CRTanalysis","text":"trial object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm) outcome data (see details). method statistical method options: cfunc transformation defining contamination function.  options : link link function. options : numerator string: name numerator variable outcome denominator string: name denominator variable outcome data (present) excludeBuffer logical: indicator whether buffer zone (records buffer=TRUE) excluded analysis alpha numeric: confidence level confidence intervals credible intervals baselineOnly logical: indicator whether required analysis effect size baseline baselineNumerator string: name numerator variable baseline data (present) baselineDenominator string: name denominator variable baseline data (present) personalProtection logical: indicator whether model includes local effects contamination clusterEffects logical: indicator whether model includes cluster random effects spatialEffects logical: indicator whether model includes spatial random effects resamples integer: number samples sample-based intervals requireMesh logical: indicator whether spatial predictions required inla_mesh string: name pre-existing INLA input object created new_mesh()","code":""},{"path":"/reference/CRTanalysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis of cluster randomized trial with contamination — CRTanalysis","text":"list class CRTanalysis containing following results analysis: description : description dataset method : statistical method pt_ests : point estimates int_ests : interval estimates model_object : object returned fitting routine contamination : function values statistics describing estimated contamination","code":""},{"path":"/reference/CRTanalysis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analysis of cluster randomized trial with contamination — CRTanalysis","text":"CRTanalysis wrapper statistical analysis packages: geepack, INLA, jagsUI, t.test function package stats. wrapper provide interface full functionality packages. specific typical analyses cluster randomized trials geographical clustering. key results analyses can extracted using summary() output list. model_object output list usual output statistical analysis routine, can also inspected summary(), analysed using stats::fitted() purposes evaluation model fit etc..","code":""},{"path":"/reference/CRTanalysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis of cluster randomized trial with contamination — CRTanalysis","text":"","code":"# Analysis of test dataset by t-test exampleT <- CRTanalysis(readdata(\"exampleCRT.csv\"), method = \"T\") # Standard GEE analysis of test dataset ignoring contamination exampleGEE <- CRTanalysis(readdata(\"exampleCRT.csv\"), method = \"GEE\")"},{"path":"/reference/CRTpower.html","id":null,"dir":"Reference","previous_headings":"","what":"Power and sample size calculations for a CRT — CRTpower","title":"Power and sample size calculations for a CRT — CRTpower","text":"CRTpower carries power sample size calculations CRTs.","code":""},{"path":"/reference/CRTpower.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Power and sample size calculations for a CRT — CRTpower","text":"","code":"CRTpower(   trial = NULL,   locations = NULL,   alpha = 0.05,   desiredPower = 0.8,   effect = NULL,   yC = NULL,   outcome_type = \"d\",   sigma2 = NULL,   phi = 1,   N = 1,   ICC = NULL,   k = NULL,   sd_h = 0 )"},{"path":"/reference/CRTpower.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Power and sample size calculations for a CRT — CRTpower","text":"trial dataframe 'CRTsp' object containing Cartesian coordinates locations columns 'x' 'y'. locations numeric: total number units available randomization (required trial specified) alpha numeric: confidence level desiredPower numeric: desired power effect numeric: required effect size yC numeric: baseline value outcome outcome_type character options - 'y': continuous; 'n': count; 'e': event rate; 'p': proportion; 'd': dichotomous. sigma2 numeric: variance outcome (required outcome_type = 'y') phi numeric: overdispersion parameter (outcome_type = 'n' outcome_type = 'e') N numeric: mean denominator proportions (outcome_type = 'p') ICC numeric: Intra-Cluster Correlation k integer: number clusters arm (required trial specified) sd_h standard deviation number units per cluster (required trial specified)","code":""},{"path":"/reference/CRTpower.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Power and sample size calculations for a CRT — CRTpower","text":"list class 'CRTsp' object comprising input data, cluster arm assignments, trial description results power calculations","code":""},{"path":"/reference/CRTpower.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Power and sample size calculations for a CRT — CRTpower","text":"Power sample size calculations two-arm trial using formulae Hemming et al, 2011 use normal approximation inter-cluster variation. counts event rate data quasi–Poisson model assumed. functions consider loss power due contamination, loss follow-etc. geolocations input power sample size calculations based scalar input parameters. trial dataframe 'CRTsp' object containing pre-existing randomization input numbers sizes clusters input data used estimate power. buffer zones specified separate calculations made core area full site output object class 'CRTsp' containing input trial data.frame values : required numbers clusters achieve specified power. design effect based input ICC. Calculations nominal power (ignoring bias caused contamination effects)","code":""},{"path":"/reference/CRTpower.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Power and sample size calculations for a CRT — CRTpower","text":"","code":"# Example without input geolocations examplePower = CRTpower(locations = 3000, ICC=0.10, effect=0.4, alpha = 0.05,     outcome_type = 'd', desiredPower = 0.8, yC=0.35, k = 20, sd_h=5) #> *** All of geoscale, locations, kappa, mu needed to simulate a new site *** # Example with input geolocations and randomisation examplePower = CRTpower(trial = readdata('example_site.csv'), desiredPower = 0.8,     effect=0.4, yC=0.35, outcome_type = 'd', ICC = 0.05, k = 20) #> *** Assuming all clusters are the same size ***"},{"path":"/reference/CRTsp.html","id":null,"dir":"Reference","previous_headings":"","what":"Create or update a ","title":"Create or update a ","text":"CRTsp coerces data frames containing co-ordinates location attributes objects class \"CRTsp\" creates new \"CRTsp\" object simulating set Cartesian co-ordinates use locations simulated trial site","code":""},{"path":"/reference/CRTsp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create or update a ","text":"","code":"CRTsp(   x = NULL,   design = NULL,   geoscale = NULL,   locations = NULL,   kappa = NULL,   mu = NULL )"},{"path":"/reference/CRTsp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create or update a ","text":"x object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm). Optionally specification buffer zone (logical buffer); variables required subsequent analysis. design list: optional list containing requirements power trial geoscale standard deviation random displacement settlement cluster center (new objects) locations number locations population (new objects) kappa intensity Poisson process settlement cluster centers (new objects) mu mean  number points per settlement cluster (new objects)","code":""},{"path":"/reference/CRTsp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create or update a ","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/CRTsp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create or update a ","text":"data frame \"CRTsp\" object input output \"CRTsp\" object validated. description geography computed power calculations carried . geoscale, locations, kappa mu specified new trial dataframe constructed corresponding novel simulated human settlement pattern. generated using Thomas algorithm (rThomas) spatstat allowing user defined density locations degree spatial clustering. resulting trial data frame comprises set Cartesian coordinates centred origin.","code":""},{"path":"/reference/CRTsp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create or update a ","text":"","code":"# Generate a simulated area with 10,000 locations example_area = CRTsp(geoscale = 1, locations=10000, kappa=3, mu=40)"},{"path":"/reference/CRTspat-package.html","id":null,"dir":"Reference","previous_headings":"","what":"CRTspat: Design and analysis of Cluster Randomized Trials of health interventions with spatial contamination — CRTspat-package","title":"CRTspat: Design and analysis of Cluster Randomized Trials of health interventions with spatial contamination — CRTspat-package","text":"CRTspat comprises suite functions support design cluster randomised trials (health) interventions may geographical contamination arms. cluster size sample size cluster randomized controls interventions geographical contamination, carrying randomizations trials. methods described Multerer et al. (preparation). package takes inputs table geolocations experimental units. Example datasets provided taken field trials malaria interventions.","code":""},{"path":"/reference/latlong_as_xy.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert lat long co-ordinates to x,y — latlong_as_xy","title":"Convert lat long co-ordinates to x,y — latlong_as_xy","text":"latlong_as_xy converts co-ordinates expressed decimal degrees x,y","code":""},{"path":"/reference/latlong_as_xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert lat long co-ordinates to x,y — latlong_as_xy","text":"","code":"latlong_as_xy(trial, latvar = \"lat\", longvar = \"long\")"},{"path":"/reference/latlong_as_xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert lat long co-ordinates to x,y — latlong_as_xy","text":"trial list class \"CRTsp\" containing latitudes longitudes decimal degrees latvar name column containing latitudes decimal degrees longvar name column containing longitudes decimal degrees","code":""},{"path":"/reference/latlong_as_xy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert lat long co-ordinates to x,y — latlong_as_xy","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/latlong_as_xy.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert lat long co-ordinates to x,y — latlong_as_xy","text":"output object contains input locations replaced Cartesian coordinates units km, centred (0,0). data unchanged. equirectangular projection (valid small areas) used calculations.","code":""},{"path":"/reference/latlong_as_xy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert lat long co-ordinates to x,y — latlong_as_xy","text":"","code":"examplexy <- latlong_as_xy(readdata(\"example_latlong.csv\"))"},{"path":"/reference/new_mesh.html","id":null,"dir":"Reference","previous_headings":"","what":"new_mesh create objects required for INLA analysis of an object of class ","title":"new_mesh create objects required for INLA analysis of an object of class ","text":"new_mesh create objects required INLA analysis object class \"CRTsp\".","code":""},{"path":"/reference/new_mesh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"new_mesh create objects required for INLA analysis of an object of class ","text":"","code":"new_mesh(   trial = trial,   offset = -0.1,   max.edge = 0.25,   inla.alpha = 2,   maskbuffer = 0.5,   pixel = 0.5 )"},{"path":"/reference/new_mesh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"new_mesh create objects required for INLA analysis of an object of class ","text":"trial object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm) outcome. offset (see inla.mesh.2d documentation) max.edge (see inla.mesh.2d documentation) inla.alpha parameter related smoothness (see inla documentation) maskbuffer numeric: width buffer around points (km) pixel numeric: size pixel (km)","code":""},{"path":"/reference/new_mesh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"new_mesh create objects required for INLA analysis of an object of class ","text":"list prediction Data frame containing prediction points covariate values projection matrix observations mesh nodes. Ap projection matrix prediction points mesh nodes. indexs index set SPDE model spde SPDE model pixel pixel size (km)","code":""},{"path":"/reference/new_mesh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"new_mesh create objects required for INLA analysis of an object of class ","text":"new_mesh carries computationally intensive steps required setting-INLA analysis object class \"CRTsp\", creating preface_validitytion mesh projection matrices. mesh can reused different models fitted geography. computational resources required depend largely resolution prediction mesh. prediction mesh thinned include pixels centred distance less maskbuffer nearest point. warning may generated unless Matrix library loaded.","code":""},{"path":"/reference/new_mesh.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"new_mesh create objects required for INLA analysis of an object of class ","text":"","code":"# low resolution mesh for test dataset library(Matrix); exampleMesh=new_mesh(trial = readdata('exampleCRT.csv'), pixel = 0.5) #> as(<dgCMatrix>, \"dgTMatrix\") is deprecated since Matrix 1.5-0; do as(., \"TsparseMatrix\") instead #> Mesh created of  183  pixels of size  0.5  km"},{"path":"/reference/plot.CRTanalysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","title":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","text":"plot.CRTanalysis creates graphics showing results statistical analysis CRT","code":""},{"path":"/reference/plot.CRTanalysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","text":"","code":"# S3 method for CRTanalysis plot(   x,   ...,   map = FALSE,   fill = \"prediction\",   showLocations = FALSE,   showClusterLabels = FALSE,   showClusterBoundaries = FALSE,   showContamination = FALSE,   cpalette = NULL,   maskbuffer = 0.2,   labelsize = 4,   legend.position = NULL )"},{"path":"/reference/plot.CRTanalysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","text":"x object class 'CRTanalysis' produced CRTanalysis() ... arguments base::plot map logical: indicator whether map required fill fill layer map showLocations logical: determining whether locations shown showClusterLabels logical: determining whether cluster numbers shown showClusterBoundaries logical: determining whether cluster boundaries shown showContamination logical: determining whether estimated contamination range shown cpalette colour palette (use different colours clusters must least long number clusters, defaults rainbow()) maskbuffer radius buffer drawn around inhabited areas (km) labelsize size cluster number labels legend.position (using ggplot2::themes syntax)","code":""},{"path":"/reference/plot.CRTanalysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","text":"graphics object produced ggplot2 package","code":""},{"path":"/reference/plot.CRTanalysis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","text":"map = TRUE plot corresponding value fill generated. fill = 'clusters'  fill = 'arm' leads vector plot identical available input dataset. fill = 'distance' leads raster plot distance nearest discordant location. fill = 'prediction' leads raster plot predictions 'INLA' model. showContamination = TRUE map overlaid grey transparent layer showing showing areas within contamination zone estimated 'INLA' model. map = FALSE plot estimated contamination function generated. fitted contamination function plotted continuous blue line distance nearest discordant location.Using axes, data summaries plotted ten categories distance boundary. average outcome confidence intervals plotted.  analyses logit link function outcome plotted proportion.  analyses log link function outcome plotted scale Williams' mean (mean exp(log(x + 1))) - 1)","code":""},{"path":"/reference/plot.CRTanalysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot results of statistical analysis of a CRT — plot.CRTanalysis","text":"","code":"analysis <- CRTanalysis(readdata('exampleCRT.csv')); plot(analysis, map = FALSE)"},{"path":"/reference/plot.CRTsp.html","id":null,"dir":"Reference","previous_headings":"","what":"Graphical display of the geography of a CRT — plot.CRTsp","title":"Graphical display of the geography of a CRT — plot.CRTsp","text":"plot.CRTsp returns stacked bar chart outcome grouped distance arm boundary","code":""},{"path":"/reference/plot.CRTsp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Graphical display of the geography of a CRT — plot.CRTsp","text":"","code":"# S3 method for CRTsp plot(   x,   ...,   map = FALSE,   fill = \"arms\",   showLocations = FALSE,   showClusterBoundaries = TRUE,   showClusterLabels = FALSE,   cpalette = NULL,   maskbuffer = 0.2,   labelsize = 4,   legend.position = NULL )"},{"path":"/reference/plot.CRTsp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Graphical display of the geography of a CRT — plot.CRTsp","text":"x object class 'CRTsp'; ... arguments base::plot map logical: indicator whether map required fill fill layer map showLocations logical: determining whether locations shown showClusterBoundaries logical: determining whether cluster boundaries shown showClusterLabels logical: determining whether cluster numbers shown cpalette colour palette (use different colours clusters must least long number clusters, defaults rainbow()) maskbuffer radius buffer drawn around inhabited areas (km) labelsize size cluster number labels legend.position (using ggplot2::themes syntax)","code":""},{"path":"/reference/plot.CRTsp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Graphical display of the geography of a CRT — plot.CRTsp","text":"graphics object produced ggplot2 package","code":""},{"path":"/reference/plot.CRTsp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Graphical display of the geography of a CRT — plot.CRTsp","text":"map = TRUE map produced #' map = TRUE plot corresponding value fill generated. fill = 'clusters' leads thematic map showing locations clusters fill = 'arms' leads thematic map showing geography randomization map = FALSE stacked bar plot data produced","code":""},{"path":"/reference/plot.CRTsp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Graphical display of the geography of a CRT — plot.CRTsp","text":"","code":"#Plot of data by distance plot(readdata('exampleCRT.csv'))  #Map of locations only plot(readdata('exampleCRT.csv'), map = TRUE, fill = 'none', showLocations = TRUE,            showClusterBoundaries=FALSE, maskbuffer=0.2)  #Show cluster boundaries and number clusters plot(readdata('exampleCRT.csv'), map = TRUE, fill ='none', showClusterBoundaries=TRUE,            showClusterLabels=TRUE, maskbuffer=0.2)  #Plot clusters in colour plot(readdata('exampleCRT.csv'), map = TRUE, fill = 'clusters', showClusterLabels = TRUE,           labelsize=2, maskbuffer=0.2)  #Plot arms plot(readdata('exampleCRT.csv'), map = TRUE,         fill = 'arms', maskbuffer=0.2, legend.position=c(0.2,0.8))"},{"path":"/reference/plotCRT.html","id":null,"dir":"Reference","previous_headings":"","what":"Graphical displays of the geography of a CRT — plotCRT","title":"Graphical displays of the geography of a CRT — plotCRT","text":"plotCRT returns graphical displays geography CRT plotCRT creates graphics displaying geographical showing results statistical analysis CRT","code":""},{"path":"/reference/plotCRT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Graphical displays of the geography of a CRT — plotCRT","text":"","code":"plotCRT(   object,   map = FALSE,   fill = \"arms\",   showLocations = FALSE,   showClusterBoundaries = TRUE,   showClusterLabels = FALSE,   showContamination = FALSE,   cpalette = NULL,   maskbuffer = 0.2,   labelsize = 4,   legend.position = NULL )"},{"path":"/reference/plotCRT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Graphical displays of the geography of a CRT — plotCRT","text":"object object class 'CRTanalysis' produced CRTanalysis() map logical: indicator whether map required fill fill layer map showLocations logical: determining whether locations shown showClusterBoundaries logical: determining whether cluster boundaries shown showClusterLabels logical: determining whether cluster numbers shown showContamination logical: determining whether estimated contamination range mapped cpalette colour palette (use different colours clusters must least long number clusters, defaults rainbow()) maskbuffer radius buffer drawn around inhabited areas (km) labelsize size cluster number labels legend.position (using ggplot2::themes syntax)","code":""},{"path":"/reference/plotCRT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Graphical displays of the geography of a CRT — plotCRT","text":"graphics object produced ggplot2 package","code":""},{"path":"/reference/plotCRT.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Graphical displays of the geography of a CRT — plotCRT","text":"map = TRUE plot corresponding value fill generated. fill = 'clusters' leads thematic map showing locations clusters fill = 'arms' leads thematic map showing geography randomization fill = 'distance' leads raster plot distance nearest discordant location. fill = 'prediction' leads raster plot predictions 'INLA' model. showContamination = TRUE map overlaid grey transparent layer showing showing areas within contamination zone estimated 'INLA' model. map = FALSE input trial data frame CRTsp object, containing randomisation arms, stacked bar chart outcome grouped distance boundary produced. map = FALSE input CRTanalysis object plot estimated contamination function generated. fitted contamination function plotted continuous blue line distance nearest discordant location.Using axes, data summaries plotted ten categories distance boundary. average outcome confidence intervals plotted.  analyses logit link function outcome plotted proportion.  analyses log link function outcome plotted scale Williams' mean (mean exp(log(x + 1))) - 1)","code":""},{"path":"/reference/plotCRT.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Graphical displays of the geography of a CRT — plotCRT","text":"","code":"#Plot of data by distance plotCRT(readdata('exampleCRT.csv'))  #Map of locations only plotCRT(readdata('exampleCRT.csv'), map = TRUE, fill = 'none', showLocations = TRUE,            showClusterBoundaries=FALSE, maskbuffer=0.2)  #show cluster boundaries and number clusters plotCRT(readdata('exampleCRT.csv'), map = TRUE, fill ='none', showClusterBoundaries=TRUE,            showClusterLabels=TRUE, maskbuffer=0.2, labelsize = 2)  #show clusters in colour plotCRT(readdata('exampleCRT.csv'), map = TRUE, fill = 'clusters', showClusterLabels = TRUE,           labelsize=2, maskbuffer=0.2)  #show arms plotCRT(readdata('exampleCRT.csv'), map = TRUE,         fill = 'arms', maskbuffer=0.2, legend.position=c(0.2,0.8))  #contamination plot analysis <- CRTanalysis(readdata('exampleCRT.csv')); plotCRT(analysis, map = FALSE)"},{"path":"/reference/randomizeCRT.html","id":null,"dir":"Reference","previous_headings":"","what":"Randomize a two-armed cluster randomized trial — randomizeCRT","title":"Randomize a two-armed cluster randomized trial — randomizeCRT","text":"randomizeCRT carries randomization clusters CRT augments trial dataframe assignments arms","code":""},{"path":"/reference/randomizeCRT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Randomize a two-armed cluster randomized trial — randomizeCRT","text":"","code":"randomizeCRT(   trial,   matchedPair = FALSE,   baselineNumerator = \"base_num\",   baselineDenominator = \"base_denom\" )"},{"path":"/reference/randomizeCRT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Randomize a two-armed cluster randomized trial — randomizeCRT","text":"trial object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm). Optionally: specification buffer zone (logical buffer); variables required subsequent analysis. matchedPair logical: indicator whether pair-matching baseline data used randomization baselineNumerator name numerator variable baseline data (required matched-pair randomization) baselineDenominator name denominator variable baseline data (required matched-pair randomization)","code":""},{"path":"/reference/randomizeCRT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Randomize a two-armed cluster randomized trial — randomizeCRT","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/randomizeCRT.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Randomize a two-armed cluster randomized trial — randomizeCRT","text":"","code":"# Randomize the clusters in an example trial exampleCRT <- randomizeCRT(trial = readdata('exampleCRT.csv'), matchedPair = TRUE) #> ** Warning: no baseline data for matching. Unmatched randomisation **"},{"path":"/reference/readdata.html","id":null,"dir":"Reference","previous_headings":"","what":"Read example dataset — readdata","title":"Read example dataset — readdata","text":"readdata reads file package library example datasets","code":""},{"path":"/reference/readdata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read example dataset — readdata","text":"","code":"readdata(filename)"},{"path":"/reference/readdata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read example dataset — readdata","text":"filename name text file stored within package","code":""},{"path":"/reference/readdata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read example dataset — readdata","text":"R object corresponding text file","code":""},{"path":"/reference/readdata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read example dataset — readdata","text":"input file name include extension (either .csv .txt). resulting object data frame extension .csv.","code":""},{"path":"/reference/simulateCRT.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulation of cluster randomized trial with contamination — simulateCRT","title":"Simulation of cluster randomized trial with contamination — simulateCRT","text":"simulateCRT generates simulated data cluster randomized trial (CRT) geographic contamination arms.","code":""},{"path":"/reference/simulateCRT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulation of cluster randomized trial with contamination — simulateCRT","text":"","code":"simulateCRT(   trial = NULL,   effect = 0,   outcome0 = NULL,   generateBaseline = TRUE,   matchedPair = TRUE,   scale = \"proportion\",   baselineNumerator = \"base_num\",   baselineDenominator = \"base_denom\",   denominator = NULL,   ICC_inp = NULL,   sd = NULL,   theta_inp = NULL,   tol = 1e-04,   vr = 0.5 )"},{"path":"/reference/simulateCRT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulation of cluster randomized trial with contamination — simulateCRT","text":"trial object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm). location may also assigned propensity (see details). effect numeric. simulated effect size (defaults 0) outcome0 numeric. anticipated value outcome absence intervention generateBaseline logical. TRUE baseline data simulated matchedPair logical. TRUE function tries carry randomization using pair-matching baseline data (see details) scale measurement scale outcome. Options : 'proportion' (default); 'count'; 'continuous'. baselineNumerator optional name numerator variable baseline data baselineDenominator optional name denominator variable baseline data denominator optional name denominator variable outcome ICC_inp numeric. Target intra cluster correlation, provided input baseline data simulated sd numeric. standard deviation normal kernel measuring spatial smoothing leading contamination theta_inp numeric. input contamination range tol numeric. tolerance output ICC vr numeric. ratio location variance cluster variance (continuous outcomes)","code":""},{"path":"/reference/simulateCRT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulation of cluster randomized trial with contamination — simulateCRT","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/simulateCRT.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulation of cluster randomized trial with contamination — simulateCRT","text":"Synthetic data generated sampling around values variable propensity, numerical vector (taking positive values) length equal number locations. three ways propensity can arise: propensity can provided part input trial object. Baseline numerators denominators (values baselineNumerator baselineDenominator may provided. propensity generated numerator:denominator ratio location input object Otherwise propensity generated using 2D Normal kernel density. OOR::StoSOO used achieve intra-cluster correlation coefficient (ICC) approximates value 'ICC_inp' searching appropriate value kernel bandwidth. num[], synthetic outcome location simulated expectation:  $$\\code{E(num[]) = outcome0[] * propensity[] * denom[] * (1 - effect*[])/mean(outcome0[] * propensity[])}$$  sampling distribution num[] depends value scale follows: denominator may specify vector numeric (non-zero) values input \"CRTsp\" data.frame returned variable denom. acts scale-factor continuous outcomes, rate-multiplier counts, denominator proportions. discrete data values denom must > 0.5 rounded nearest integer calculations num. default, denom generated vector ones, leading simulation dichotomous outcomes scale=’proportion’. baseline numerators denominators provided output vectors base_denom  base_num set input values. baseline numerators denominators provided synthetic baseline data generated sampling around propensity way outcome data, effect size set zero. matchedPair TRUE pair-matching baseline data used randomization providing even number clusters. odd number clusters matched pairs generated unmatched randomization output. Either sd theta_inp must provided. provided value sd overwritten standard deviation implicit value theta_inp. Contamination simulated arising diffusion-like process. details see Multerer (2021)","code":""},{"path":"/reference/simulateCRT.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulation of cluster randomized trial with contamination — simulateCRT","text":"","code":"example_simulated_CRT =  simulateCRT(trial=readdata('exampleCRT.csv'),                                      effect=0.25,                                      ICC_inp=0.05,                                      outcome0=0.5,                                      matchedPair = FALSE,                                      scale='proportion',                                      sd=0.6,                                      tol=0.05) #>  #> =====================    SIMULATION OF CLUSTER RANDOMISED TRIAL    ================="},{"path":"/reference/specify_buffer.html","id":null,"dir":"Reference","previous_headings":"","what":"Specification of buffer zone in a cluster randomized trial — specify_buffer","title":"Specification of buffer zone in a cluster randomized trial — specify_buffer","text":"specify_buffer specifies buffer zone cluster randomized trial (CRT) flagging locations within defined distance opposite arm.","code":""},{"path":"/reference/specify_buffer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specification of buffer zone in a cluster randomized trial — specify_buffer","text":"","code":"specify_buffer(trial, buffer.width = 0)"},{"path":"/reference/specify_buffer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specification of buffer zone in a cluster randomized trial — specify_buffer","text":"trial object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm). buffer.width minimum distance locations opposing arms qualify included core area (km)","code":""},{"path":"/reference/specify_buffer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Specification of buffer zone in a cluster randomized trial — specify_buffer","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/specify_buffer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Specification of buffer zone in a cluster randomized trial — specify_buffer","text":"","code":"#Specify a buffer of 200m exampletrial <- specify_buffer(trial = readdata('exampleCRT.csv'), buffer.width = 0.2)"},{"path":"/reference/specify_clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Algorithmically assign locations to clusters in a CRT — specify_clusters","title":"Algorithmically assign locations to clusters in a CRT — specify_clusters","text":"specify_clusters algorithmically assigns locations clusters grouping geographically","code":""},{"path":"/reference/specify_clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Algorithmically assign locations to clusters in a CRT — specify_clusters","text":"","code":"specify_clusters(   trial = trial,   k = NULL,   h = NULL,   algorithm = \"NN\",   reuseTSP = FALSE )"},{"path":"/reference/specify_clusters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Algorithmically assign locations to clusters in a CRT — specify_clusters","text":"trial CRT object data frame containing (x,y) coordinates households k integer: number clusters arm h integer: number locations per cluster algorithm algorithm cluster boundaries, options : NN (default),  kmeans,  TSP reuseTSP logical: indicator whether pre-existing path used TSP algorithm","code":""},{"path":"/reference/specify_clusters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Algorithmically assign locations to clusters in a CRT — specify_clusters","text":"list class \"CRTsp\" containing following components:","code":""},{"path":"/reference/specify_clusters.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Algorithmically assign locations to clusters in a CRT — specify_clusters","text":"Clustering carried using one three algorithms: Either k h must specified. specified input value k ignored.","code":""},{"path":"/reference/specify_clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Algorithmically assign locations to clusters in a CRT — specify_clusters","text":"","code":"#Assign clusters of average size h = 40 to a test set of co-ordinates, using the kmeans algorithm exampletrial <- specify_clusters(trial = readdata('exampleCRT.csv'),                             h = 40, algorithm = 'kmeans', reuseTSP = FALSE)"},{"path":"/reference/summary.CRTanalysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of the results of a statistical analysis of a CRT — summary.CRTanalysis","title":"Summary of the results of a statistical analysis of a CRT — summary.CRTanalysis","text":"summary.CRTanalysis generates summary CRTanalysis including main results","code":""},{"path":"/reference/summary.CRTanalysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of the results of a statistical analysis of a CRT — summary.CRTanalysis","text":"","code":"# S3 method for CRTanalysis summary(object, ...)"},{"path":"/reference/summary.CRTanalysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of the results of a statistical analysis of a CRT — summary.CRTanalysis","text":"object object class \"CRTanalysis\" ... arguments used summary","code":""},{"path":"/reference/summary.CRTsp.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary description of a ","title":"Summary description of a ","text":"summary.CRTsp provides description \"CRTsp\" object","code":""},{"path":"/reference/summary.CRTsp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary description of a ","text":"","code":"# S3 method for CRTsp summary(object, maskbuffer = 0.2, ...)"},{"path":"/reference/summary.CRTsp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary description of a ","text":"object object class \"CRTsp\" data frame containing locations (x,y) coordinates, cluster assignments (factor cluster), arm assignments (factor arm). Optionally: specification buffer zone (logical buffer); variables required subsequent analysis. maskbuffer radius area around location include calculation areas ... arguments used summary","code":""}]
